import{a as g,u as k,r as n,x as q,k as $,e as c,g as s,y as b,f as a,t as o,p as h,o as r,z as f,j as w,A as x}from"./index-DAJwJefL.js";import{u as z}from"./auth-store-DgD84Utc.js";import"./supabase-C5qut0hh.js";const A={class:"flex flex-center column q-gutter-md"},B={class:"text-center"},S={key:1,class:"q-gutter-md"},M={class:"q-mt-md q-mb-none"},P={class:"text-grey-7"},Q={key:2,class:"q-gutter-md"},R={class:"q-mt-md q-mb-none"},V={class:"text-grey-7"},T=g({__name:"EmailVerificationPage",setup(C){const l=w(),u=$(),{t:p}=k(),v=z(),m=n(!0),t=n(!1),d=n(""),y=()=>{l.push("/app")},_=()=>{l.push("/auth")};return q(async()=>{try{await v.initializeAuth();const i=new URLSearchParams(window.location.search).get("type");i==="signup"?(t.value=!0,u.notify({type:"positive",message:p("auth.verification.emailVerified"),position:"top"})):i==="recovery"?(t.value=!0,u.notify({type:"positive",message:p("auth.verification.passwordResetReady"),position:"top"})):t.value=!0}catch(e){t.value=!1,d.value=e instanceof Error?e.message:"Unknown error"}finally{m.value=!1}}),(e,i)=>(r(),c("div",A,[s("div",B,[m.value?(r(),b(x,{key:0,size:"50px",color:"primary"})):t.value?(r(),c("div",S,[a(f,{name:"check_circle",color:"positive",size:"64px"}),s("h4",M,o(e.$t("auth.verification.success")),1),s("p",P,o(e.$t("auth.verification.successMessage")),1),a(h,{color:"primary",label:e.$t("auth.verification.continue"),onClick:y},null,8,["label"])])):(r(),c("div",Q,[a(f,{name:"error",color:"negative",size:"64px"}),s("h4",R,o(e.$t("auth.verification.error")),1),s("p",V,o(d.value||e.$t("auth.verification.errorMessage")),1),a(h,{color:"primary",label:e.$t("auth.verification.retry"),onClick:_},null,8,["label"])]))])]))}});export{T as default};
