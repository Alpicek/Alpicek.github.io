import{u as l}from"./notifications-store-D22hljiT.js";import{u as w}from"./vue-i18n.runtime-14acve9v.js";import{z as r}from"./index-C8cpulqW.js";function b(){const t=l(),{t:c}=w(),h=e=>{switch(e){case"friend_request":return"person_add";case"friend_accepted":return"check_circle";case"new_wish":return"card_giftcard";case"wish_bought":return"shopping_cart";case"wish_received":return"redeem";case"wish_comment":return"chat";default:return"notifications"}},f=e=>{switch(e){case"friend_request":return"blue";case"friend_accepted":return"green";case"new_wish":return"purple";case"wish_bought":return"orange";case"wish_received":return"teal";case"wish_comment":return"indigo";default:return"grey"}},n=e=>typeof e=="object"&&e!==null,o=(e,i)=>{const s=e[i];return typeof s=="string"?s:null},m=async e=>{e.is_read||await t.markAsRead(e.id);const i=e.data;if(e.type==="wish_comment"&&i&&typeof i=="object"){const s=i.first===!0,a=e.body;e.title=c(s?"wishComment.titleFirst":"wishComment.title"),e.body=s?c("wishComment.bodyFirst",{snippet:a}):c("wishComment.bodyGeneric",{snippet:a})}switch(e.type){case"friend_request":case"friend_accepted":return"/friends";case"new_wish":{const s=n(i)?o(i,"owner_id"):null;return s?`/friend/${s}`:"/friends"}case"wish_bought":case"wish_received":{const s=n(i)?o(i,"wish_id"):null;return s?`/wishes?highlight=${s}`:"/wishes"}case"wish_comment":{const s=n(i)?o(i,"wish_id"):null;if(s){const a=n(i)?o(i,"comment_id"):null,d=n(i)?o(i,"thread_type"):null,u=new URLSearchParams({highlight:s,expand:"1"});return a&&u.set("comment",a),d&&u.set("thread",d),`/wishes?${u.toString()}`}return"/wishes"}default:return"/"}};return{notifications:r(()=>t.notifications),unreadCount:r(()=>t.unreadCount),hasUnread:r(()=>t.hasUnread),isLoading:r(()=>t.isLoading),getUnreadNotifications:r(()=>t.getUnreadNotifications),getReadNotifications:r(()=>t.getReadNotifications),initialize:t.initialize,cleanup:t.cleanup,fetchNotifications:t.fetchNotifications,markAsRead:t.markAsRead,markAllAsRead:t.markAllAsRead,updateUnreadCount:t.updateUnreadCount,subscribeToNotifications:t.subscribeToNotifications,unsubscribeFromNotifications:t.unsubscribeFromNotifications,handleNotificationClick:m,getNotificationIcon:h,getNotificationColor:f}}export{b as u};
