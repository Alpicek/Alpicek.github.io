import{a as g,r as n,h as k,c,f as s,i as q,e as o,t as a,Q as f,o as r,j as h,u as $,k as b}from"./index-kkTdpkc5.js";import{u as w}from"./use-quasar-BicO9jeR.js";import{u as B}from"./useAuth-yaQxJ5Wv.js";import{u as Q}from"./vue-i18n.runtime-CCVJ0dfQ.js";import"./supabase-BGxb2Nwl.js";const x={class:"flex flex-center column q-gutter-md"},z={class:"text-center"},A={key:1,class:"q-gutter-md"},E={class:"q-mt-md q-mb-none"},M={class:"text-grey-7"},P={key:2,class:"q-gutter-md"},R={class:"q-mt-md q-mb-none"},V={class:"text-grey-7"},j=g({__name:"EmailVerificationPage",setup(C){const l=$(),u=w(),{t:p}=Q(),{initializeAuth:v}=B(),m=n(!0),t=n(!1),d=n(""),y=()=>{l.push("/")},_=()=>{l.push("/auth")};return k(async()=>{try{await v();const i=new URLSearchParams(window.location.search).get("type");i==="signup"?(t.value=!0,u.notify({type:"positive",message:p("auth.verification.emailVerified"),position:"top"})):i==="recovery"?(t.value=!0,u.notify({type:"positive",message:p("auth.verification.passwordResetReady"),position:"top"})):t.value=!0}catch(e){console.error("Email verification error:",e),t.value=!1,d.value=e instanceof Error?e.message:"Unknown error"}finally{m.value=!1}}),(e,i)=>(r(),c("div",x,[s("div",z,[m.value?(r(),q(b,{key:0,size:"50px",color:"primary"})):t.value?(r(),c("div",A,[o(h,{name:"check_circle",color:"positive",size:"64px"}),s("h4",E,a(e.$t("auth.verification.success")),1),s("p",M,a(e.$t("auth.verification.successMessage")),1),o(f,{color:"primary",label:e.$t("auth.verification.continue"),onClick:y},null,8,["label"])])):(r(),c("div",P,[o(h,{name:"error",color:"negative",size:"64px"}),s("h4",R,a(e.$t("auth.verification.error")),1),s("p",V,a(d.value||e.$t("auth.verification.errorMessage")),1),o(f,{color:"primary",label:e.$t("auth.verification.retry"),onClick:_},null,8,["label"])]))])]))}});export{j as default};
