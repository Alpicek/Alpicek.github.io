import{a as K,n as W,c as Q,o as f,e as a,p as h,aq as S,Q as F,f as s,g as $,h as m,t as d,l as u,x as z,at as he,k as P,r as U,z as ee,i as le,aD as ae,j as q,m as R,as as $e,ar as Pe,q as Ve,aA as te,aI as we,aM as ke,aN as qe,b as Se,au as Ue}from"./index-B3spGy88.js";import{Q as J}from"./QForm-CSMGXeoz.js";import{Q as Ce}from"./QPage-693sF3lM.js";import{u as ie}from"./use-quasar-BAGBkhZd.js";import{u as se}from"./auth-store-MnmwA6R3.js";import{a as H,Q as oe}from"./QSelect-j2j_KoaU.js";import{u as De,Q as Qe}from"./usePushNotifications-BwFVz5c4.js";import{u as X}from"./vue-i18n.runtime-DwBerXon.js";import{_ as ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{Q as Ee,a as Fe,b as re}from"./QItem-f-kqPoHc.js";import{supabase as C}from"./supabase-CPQ3eL74.js";import{u as Ne}from"./useFriends-BnGHCqY5.js";import{u as Ae}from"./useGroups-Dd1QCz73.js";import"./format-geZld8GE.js";import"./position-engine-DOqoRyaA.js";import"./selection-DaOyP1qb.js";import"./rtl-DFPa-2ov.js";const Be={class:"q-pa-md"},Me={class:"text-h6 q-mb-md"},Ie={class:"q-mb-md"},Ge={key:0,class:"q-mb-md"},Le={key:1,class:"q-mb-md"},ze={class:"text-h6 q-mb-md"},Oe={class:"text-body2 text-grey-6"},je=K({__name:"NotificationSettings",setup(V){const{t:g}=X(),o=De();W(async()=>{await o.initialize()});const p=()=>{switch(o.permission.value){case"granted":return"positive";case"denied":return"negative";default:return"warning"}},r=()=>{switch(o.permission.value){case"granted":return"check_circle";case"denied":return"block";default:return"help"}},D=()=>{switch(o.permission.value){case"granted":return g("notifications.permissionGranted");case"denied":return g("notifications.permissionDenied");default:return g("notifications.permissionDefault")}},A=async()=>{try{await o.requestPermission()}catch{}},y=async()=>{try{await o.subscribe()}catch{}},c=async()=>{try{await o.unsubscribe()}catch{}};return(n,v)=>(f(),Q("div",Be,[a(F,{class:"q-mb-md"},{default:s(()=>[a($,null,{default:s(()=>[m("div",Me,d(n.$t("notifications.title")),1),m("div",Ie,[a(H,{color:u(o).isSupported.value?"positive":"negative","text-color":"white",icon:u(o).isSupported.value?"check_circle":"error"},{default:s(()=>[z(d(u(o).isSupported.value?n.$t("notifications.supported"):n.$t("notifications.notSupported")),1)]),_:1},8,["color","icon"])]),u(o).isSupported.value?(f(),Q("div",Ge,[a(H,{color:p(),"text-color":"white",icon:r()},{default:s(()=>[z(d(D()),1)]),_:1},8,["color","icon"])])):S("",!0),u(o).isSupported.value?(f(),Q("div",Le,[a(H,{color:u(o).isSubscribed.value?"positive":"grey","text-color":"white",icon:u(o).isSubscribed.value?"notifications_active":"notifications_off"},{default:s(()=>[z(d(u(o).isSubscribed.value?n.$t("notifications.subscribed"):n.$t("notifications.notSubscribed")),1)]),_:1},8,["color","icon"])])):S("",!0)]),_:1}),u(o).isSupported.value?(f(),h(he,{key:0,align:"around"},{default:s(()=>[u(o).needsPermission?(f(),h(P,{key:0,color:"primary",icon:"notifications",label:n.$t("notifications.requestPermission"),onClick:A,loading:u(o).isLoading.value},null,8,["label","loading"])):S("",!0),u(o).canSubscribe&&!u(o).isSubscribed.value?(f(),h(P,{key:1,color:"positive",icon:"notifications_active",label:n.$t("notifications.subscribe"),onClick:y,loading:u(o).isLoading.value},null,8,["label","loading"])):S("",!0),u(o).isSubscribed?(f(),h(P,{key:2,color:"negative",icon:"notifications_off",label:n.$t("notifications.unsubscribe"),onClick:c,loading:u(o).isLoading.value},null,8,["label","loading"])):S("",!0)]),_:1})):S("",!0)]),_:1}),u(o).isSubscribed?(f(),h(F,{key:0},{default:s(()=>[a($,null,{default:s(()=>[m("div",ze,d(n.$t("notifications.history")),1),m("div",Oe,d(n.$t("notifications.historyEmpty")),1)]),_:1})]),_:1})):S("",!0)]))}}),Ye=ne(je,[["__scopeId","data-v-9ba282eb"]]),Te=()=>{const V=U(!1),g=async(y,c)=>{V.value=!0;try{const n=c.email||`dummy-${crypto.randomUUID().slice(0,8)}@dummy.local`,{data:v,error:i}=await C.from("profiles").insert({id:crypto.randomUUID(),email:n,name:c.name,surname:c.surname||null,username:c.username||null,date_of_birth:c.date_of_birth||null,birth_year_visible:c.birth_year_visible??!1,is_dummy:!0}).select().single();if(i||!v)throw i||new Error("Failed to create dummy profile");const{error:b}=await C.from("dummy_profile_managers").insert({dummy_profile_id:v.id,manager_user_id:y});if(b)throw await C.from("profiles").delete().eq("id",v.id),b;const{error:w}=await C.from("friendships").insert({user_id:y,friend_id:v.id,status:"accepted"});if(w)throw await C.from("profiles").delete().eq("id",v.id),w;return{data:v,error:null}}catch(n){return console.error("Error creating dummy profile:",n),{data:null,error:n}}finally{V.value=!1}},o=async y=>{V.value=!0;try{const{data:c,error:n}=await C.from("dummy_profile_managers").select(`
          *,
          profiles!dummy_profile_managers_dummy_profile_id_fkey (*)
        `).eq("manager_user_id",y);if(n)throw n;return{data:c?.map(i=>i.profiles).filter(Boolean)||[],error:null}}catch(c){return console.error("Error fetching managed dummy profiles:",c),{data:null,error:c}}finally{V.value=!1}},p=async(y,c)=>{V.value=!0;try{const{data:n,error:v}=await C.from("profiles").update(c).eq("id",y).eq("is_dummy",!0).select().single();if(v)throw v;return{data:n,error:null}}catch(n){return console.error("Error updating dummy profile:",n),{data:null,error:n}}finally{V.value=!1}},r=async(y,c)=>{V.value=!0;try{const{data:n}=await C.from("dummy_profile_managers").select("id").eq("dummy_profile_id",y).eq("manager_user_id",c).single();if(!n)throw new Error("You do not have permission to delete this dummy profile");const{error:v}=await C.from("profiles").delete().eq("id",y).eq("is_dummy",!0);if(v)throw v;return{error:null}}catch(n){return console.error("Error deleting dummy profile:",n),{error:n}}finally{V.value=!1}},D=async(y,c)=>{try{const{data:n}=await C.from("dummy_profile_managers").select("id").eq("dummy_profile_id",y).eq("manager_user_id",c).single();return!!n}catch{return!1}};return{isLoading:V,createDummyProfile:g,fetchManagedDummyProfiles:o,updateDummyProfile:p,deleteDummyProfile:r,canManageDummyProfile:D,suggestDummyProfileAsFriend:async(y,c,n)=>{V.value=!0;try{if(!await D(y,n))throw new Error("You do not have permission to suggest this dummy profile");const{data:i,error:b}=await C.from("friendships").insert({user_id:y,friend_id:c,status:"pending"}).select().single();if(b)throw b;return{data:i,error:null}}catch(v){return console.error("Error suggesting dummy profile as friend:",v),{data:null,error:v}}finally{V.value=!1}}}},He={class:"text-h6 q-mb-md"},Re={class:"text-body2 text-grey-7"},Je={class:"text-subtitle1 q-mb-md"},Ke={class:"row q-gutter-sm"},We={class:"text-subtitle1 q-mb-md"},Xe={class:"q-gutter-md"},Ze={class:"col"},xe={class:"text-subtitle2"},el={key:0,class:"text-caption text-grey-7"},ll={key:1,class:"text-caption text-grey-7"},al={key:2,class:"text-caption text-grey-7"},tl={class:"col-auto"},ol={class:"text-center text-grey-7 q-py-lg"},rl={class:"text-h6"},il={class:"row q-gutter-sm justify-end"},sl={class:"text-h6"},nl={class:"row q-gutter-sm justify-end q-mt-sm"},ul=K({__name:"DummyProfileManager",setup(V){const g=ie(),{t:o}=X(),p=se(),r=ee(()=>p.user),{isLoading:D,createDummyProfile:A,fetchManagedDummyProfiles:y,updateDummyProfile:c,deleteDummyProfile:n,suggestDummyProfileAsFriend:v}=Te(),{fetchEligibleUsersForDummySuggestion:i}=Ne(),{groups:b,fetchGroups:w,fetchGroupMembers:ue,membersByGroup:me}=Ae(),I=U(!1),G=U(!1),L=U(!1),O=U([]),_=U(null),B=U(null),Z=U([]),N=U(null),T=U(!1),M=U("person"),E=U(null),de=ee(()=>b.value.map(e=>({label:e.name,value:e.id}))),k=U({name:"",surname:"",username:"",email:"",date_of_birth:"",birth_year_visible:!1}),fe=()=>{k.value={name:"",surname:"",username:"",email:"",date_of_birth:"",birth_year_visible:!1}},x=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),ce=e=>new Date(e).toLocaleDateString(),j=async()=>{if(!r.value?.id)return;const{data:e}=await y(r.value.id);e&&(O.value=e)},ve=async()=>{if(!r.value?.id)return;const{data:e,error:t}=await A(r.value.id,k.value);if(t){g.notify({color:"negative",message:o("dummyProfiles.errors.createFailed"),icon:"error"});return}e&&(g.notify({color:"positive",message:o("dummyProfiles.messages.created"),icon:"check"}),fe(),I.value=!1,await j())},pe=e=>{_.value={...e},G.value=!0},ye=async()=>{if(!_.value)return;const{data:e,error:t}=await c(_.value.id,_.value);if(t){g.notify({color:"negative",message:o("dummyProfiles.errors.updateFailed"),icon:"error"});return}e&&(g.notify({color:"positive",message:o("dummyProfiles.messages.updated"),icon:"check"}),G.value=!1,await j())},be=e=>{g.dialog({title:o("dummyProfiles.confirmDelete.title"),message:o("dummyProfiles.confirmDelete.message",{name:e.name}),cancel:!0,persistent:!0}).onOk(()=>{(async()=>{if(!r.value?.id)return;const{error:t}=await n(e.id,r.value.id);if(t){g.notify({color:"negative",message:o("dummyProfiles.errors.deleteFailed"),icon:"error"});return}g.notify({color:"positive",message:o("dummyProfiles.messages.deleted"),icon:"check"}),await j()})()})},ge=async e=>{if(B.value=e,T.value=!0,L.value=!0,M.value="person",N.value=null,E.value=null,r.value?.id){const{data:t}=await i(e.id,r.value.id);t&&(Z.value=t)}T.value=!1},_e=async()=>{if(!(!r.value?.id||!B.value))try{if(M.value==="person"){if(!N.value)return;const{error:e}=await v(B.value.id,N.value,r.value.id);if(e){const t=typeof e=="string"?e:e instanceof Error?e.message:"suggest-error";throw new Error(t)}g.notify({color:"positive",message:o("dummyProfiles.messages.suggested"),icon:"check"})}else{if(!E.value)return;await ue(E.value);const e=me.value[E.value]||[];let t=0;for(const l of e){if(l.user_id===B.value.id)continue;const{error:Y}=await v(B.value.id,l.user_id,r.value.id);Y||t++}g.notify({color:"positive",message:o("dummyProfiles.messages.groupSuggested",{count:t}),icon:"check"})}}catch{g.notify({color:"negative",message:o("dummyProfiles.errors.suggestionFailed"),icon:"error"});return}finally{L.value=!1,N.value=null,E.value=null,B.value=null}};return W(async()=>{await j(),await w()}),(e,t)=>(f(),h(F,{class:"dummy-profile-manager"},{default:s(()=>[a($,null,{default:s(()=>[m("div",He,d(e.$t("dummyProfiles.title")),1),m("p",Re,d(e.$t("dummyProfiles.description")),1)]),_:1}),a(le),I.value?(f(),h($,{key:0},{default:s(()=>[m("div",Je,d(e.$t("dummyProfiles.createNew")),1),a(J,{onSubmit:ae(ve,["prevent"]),class:"q-gutter-md"},{default:s(()=>[a(q,{modelValue:k.value.name,"onUpdate:modelValue":t[0]||(t[0]=l=>k.value.name=l),label:e.$t("dummyProfiles.form.name"),filled:"",rules:[l=>!!l||e.$t("validation.required")],required:""},null,8,["modelValue","label","rules"]),a(q,{modelValue:k.value.surname,"onUpdate:modelValue":t[1]||(t[1]=l=>k.value.surname=l),label:e.$t("dummyProfiles.form.surname"),filled:""},null,8,["modelValue","label"]),a(q,{modelValue:k.value.username,"onUpdate:modelValue":t[2]||(t[2]=l=>k.value.username=l),label:e.$t("dummyProfiles.form.username"),filled:"",hint:e.$t("dummyProfiles.form.usernameHint")},null,8,["modelValue","label","hint"]),a(q,{modelValue:k.value.email,"onUpdate:modelValue":t[3]||(t[3]=l=>k.value.email=l),label:e.$t("dummyProfiles.form.email"),type:"email",filled:"",hint:e.$t("dummyProfiles.form.emailHint"),rules:[l=>!l||x(l)||e.$t("validation.invalidEmail")]},null,8,["modelValue","label","hint","rules"]),a(q,{modelValue:k.value.date_of_birth,"onUpdate:modelValue":t[4]||(t[4]=l=>k.value.date_of_birth=l),label:e.$t("dummyProfiles.form.dateOfBirth"),type:"date",filled:""},null,8,["modelValue","label"]),a(R,{modelValue:k.value.birth_year_visible,"onUpdate:modelValue":t[5]||(t[5]=l=>k.value.birth_year_visible=l),label:e.$t("dummyProfiles.form.birthYearVisible")},null,8,["modelValue","label"]),m("div",Ke,[a(P,{type:"submit",color:"primary",label:e.$t("common.create"),loading:u(D)},null,8,["label","loading"]),a(P,{flat:"",label:e.$t("common.cancel"),onClick:t[6]||(t[6]=l=>I.value=!1)},null,8,["label"])])]),_:1})]),_:1})):(f(),h($,{key:1},{default:s(()=>[a(P,{color:"primary",label:e.$t("dummyProfiles.createNew"),icon:"add",onClick:t[7]||(t[7]=l=>I.value=!0)},null,8,["label"])]),_:1})),O.value.length>0?(f(),h(le,{key:2})):S("",!0),O.value.length>0?(f(),h($,{key:3},{default:s(()=>[m("div",We,d(e.$t("dummyProfiles.yourProfiles")),1),m("div",Xe,[(f(!0),Q(Pe,null,$e(O.value,l=>(f(),h(F,{key:l.id,flat:"",bordered:"",class:"dummy-profile-item"},{default:s(()=>[a($,{class:"row items-center"},{default:s(()=>[m("div",Ze,[m("div",xe,d(l.name)+" "+d(l.surname),1),l.username?(f(),Q("div",el," @"+d(l.username),1)):S("",!0),l.email&&!l.email.includes("@dummy.local")?(f(),Q("div",ll,d(l.email),1)):S("",!0),l.date_of_birth?(f(),Q("div",al,d(ce(l.date_of_birth)),1)):S("",!0)]),m("div",tl,[a(Qe,{flat:""},{default:s(()=>[a(P,{flat:"",icon:"edit",size:"sm",title:e.$t("common.edit"),onClick:Y=>pe(l)},null,8,["title","onClick"]),a(P,{flat:"",icon:"share",size:"sm",title:e.$t("dummyProfiles.suggestAsFriend"),onClick:Y=>ge(l)},null,8,["title","onClick"]),a(P,{flat:"",icon:"delete",size:"sm",color:"negative",title:e.$t("common.delete"),onClick:Y=>be(l)},null,8,["title","onClick"])]),_:2},1024)])]),_:2},1024)]),_:2},1024))),128))])]),_:1})):I.value?S("",!0):(f(),h($,{key:4},{default:s(()=>[m("div",ol,[a(Ve,{name:"person_add_disabled",size:"3rem",class:"q-mb-md"}),m("div",null,d(e.$t("dummyProfiles.noProfiles")),1)])]),_:1})),a(te,{modelValue:G.value,"onUpdate:modelValue":t[15]||(t[15]=l=>G.value=l),persistent:""},{default:s(()=>[a(F,{style:{width:"400px"}},{default:s(()=>[a($,null,{default:s(()=>[m("div",rl,d(e.$t("dummyProfiles.editProfile")),1)]),_:1}),_.value?(f(),h($,{key:0},{default:s(()=>[a(J,{onSubmit:ae(ye,["prevent"]),class:"q-gutter-md"},{default:s(()=>[a(q,{modelValue:_.value.name,"onUpdate:modelValue":t[8]||(t[8]=l=>_.value.name=l),label:e.$t("dummyProfiles.form.name"),filled:"",rules:[l=>!!l||e.$t("validation.required")],required:""},null,8,["modelValue","label","rules"]),a(q,{modelValue:_.value.surname,"onUpdate:modelValue":t[9]||(t[9]=l=>_.value.surname=l),label:e.$t("dummyProfiles.form.surname"),filled:""},null,8,["modelValue","label"]),a(q,{modelValue:_.value.username,"onUpdate:modelValue":t[10]||(t[10]=l=>_.value.username=l),label:e.$t("dummyProfiles.form.username"),filled:""},null,8,["modelValue","label"]),a(q,{modelValue:_.value.email,"onUpdate:modelValue":t[11]||(t[11]=l=>_.value.email=l),label:e.$t("dummyProfiles.form.email"),type:"email",filled:"",hint:e.$t("dummyProfiles.form.emailHint"),rules:[l=>!l||x(l)||e.$t("validation.invalidEmail")]},null,8,["modelValue","label","hint","rules"]),a(q,{modelValue:_.value.date_of_birth,"onUpdate:modelValue":t[12]||(t[12]=l=>_.value.date_of_birth=l),label:e.$t("dummyProfiles.form.dateOfBirth"),type:"date",filled:""},null,8,["modelValue","label"]),a(R,{modelValue:_.value.birth_year_visible,"onUpdate:modelValue":t[13]||(t[13]=l=>_.value.birth_year_visible=l),label:e.$t("dummyProfiles.form.birthYearVisible")},null,8,["modelValue","label"]),m("div",il,[a(P,{flat:"",label:e.$t("common.cancel"),onClick:t[14]||(t[14]=l=>G.value=!1)},null,8,["label"]),a(P,{type:"submit",color:"primary",label:e.$t("common.save"),loading:u(D)},null,8,["label","loading"])])]),_:1})]),_:1})):S("",!0)]),_:1})]),_:1},8,["modelValue"]),a(te,{modelValue:L.value,"onUpdate:modelValue":t[20]||(t[20]=l=>L.value=l),persistent:""},{default:s(()=>[a(F,{style:{width:"460px"}},{default:s(()=>[a($,null,{default:s(()=>[m("div",sl,d(e.$t("dummyProfiles.suggestProfile")),1)]),_:1}),a($,{class:"q-gutter-md"},{default:s(()=>[a(we,{modelValue:M.value,"onUpdate:modelValue":t[16]||(t[16]=l=>M.value=l),type:"radio",options:[{label:e.$t("dummyProfiles.target.person"),value:"person"},{label:e.$t("dummyProfiles.target.group"),value:"group"}]},null,8,["modelValue","options"]),M.value==="person"?(f(),h(oe,{key:0,modelValue:N.value,"onUpdate:modelValue":t[17]||(t[17]=l=>N.value=l),options:Z.value,label:e.$t("dummyProfiles.selectFriend"),"option-label":"name","option-value":"id",filled:"","emit-value":"","map-options":"",loading:T.value},{option:s(l=>[a(Ee,ke(qe(l.itemProps)),{default:s(()=>[a(Fe,null,{default:s(()=>[a(re,null,{default:s(()=>[z(d(l.opt.name)+" "+d(l.opt.surname),1)]),_:2},1024),a(re,{caption:""},{default:s(()=>[z(d(l.opt.email),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","label","loading"])):(f(),h(oe,{key:1,modelValue:E.value,"onUpdate:modelValue":t[18]||(t[18]=l=>E.value=l),options:de.value,label:e.$t("dummyProfiles.selectGroup"),"option-label":"label","option-value":"value","emit-value":"","map-options":"",filled:"",disable:u(b).length===0,hint:u(b).length===0?e.$t("dummyProfiles.noGroups"):""},null,8,["modelValue","options","label","disable","hint"])),m("div",nl,[a(P,{flat:"",label:e.$t("common.cancel"),onClick:t[19]||(t[19]=l=>L.value=!1)},null,8,["label"]),a(P,{color:"primary",label:e.$t("dummyProfiles.sendSuggestion"),loading:u(D),disable:M.value==="person"?!N.value:!E.value,onClick:_e},null,8,["label","loading","disable"])])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))}}),ml=ne(ul,[["__scopeId","data-v-6dcd3635"]]),dl={class:"text-h4 q-mb-md"},fl={class:"row justify-center"},cl={class:"col-12 col-md-6"},vl=["src"],pl={key:1},yl={class:"text-h5 q-mt-md"},bl={key:0,class:"text-subtitle1 text-grey-6"},gl={class:"text-body2 text-grey-7"},_l={class:"row justify-end q-gutter-sm"},hl={class:"text-h6 q-mb-md"},$l={class:"q-mt-md"},Gl=K({__name:"ProfilePage",setup(V){const g=ie(),{t:o}=X(),p=se(),r=Se({name:"",surname:"",username:"",date_of_birth:"",birth_year_visible:!1}),D=i=>i?i.name&&i.surname?`${i.name} ${i.surname}`:i.username||i.email:"",A=i=>i?i.name&&i.surname?`${i.name.charAt(0)}${i.surname.charAt(0)}`:i.username?i.username.charAt(0).toUpperCase():i.email.charAt(0).toUpperCase():"",y=i=>r.username?!0:!!i||o("profile.validationError"),c=i=>r.name&&r.surname?!0:!!i||o("profile.validationError"),n=()=>{p.profile&&(r.name=p.profile.name||"",r.surname=p.profile.surname||"",r.username=p.profile.username||"",r.date_of_birth=p.profile.date_of_birth||"",r.birth_year_visible=p.profile.birth_year_visible??!1)},v=async()=>{if(!r.username&&(!r.name||!r.surname)){g.notify({type:"negative",message:o("profile.validationError")});return}const i={name:r.name||null,surname:r.surname||null,username:r.username||null,date_of_birth:r.date_of_birth||null,birth_year_visible:r.birth_year_visible};await p.updateProfile(i)?g.notify({type:"positive",message:o("profile.updateSuccess")}):g.notify({type:"negative",message:o("profile.updateError")})};return W(()=>{n()}),(i,b)=>(f(),h(Ce,{class:"q-pa-md"},{default:s(()=>[m("div",dl,d(i.$t("profile.title")),1),m("div",fl,[m("div",cl,[a(F,null,{default:s(()=>[a($,{class:"text-center"},{default:s(()=>[a(Ue,{size:"100px",color:"primary","text-color":"white"},{default:s(()=>[u(p).profile?.avatar_url?(f(),Q("img",{key:0,src:u(p).profile.avatar_url},null,8,vl)):(f(),Q("span",pl,d(A(u(p).profile)),1))]),_:1}),m("div",yl,d(D(u(p).profile)),1),u(p).profile?.username?(f(),Q("div",bl," @"+d(u(p).profile.username),1)):S("",!0),m("div",gl,d(u(p).profile?.email),1)]),_:1}),a($,null,{default:s(()=>[a(J,{onSubmit:v,class:"q-gutter-md"},{default:s(()=>[a(q,{modelValue:r.name,"onUpdate:modelValue":b[0]||(b[0]=w=>r.name=w),label:i.$t("common.name"),outlined:"",rules:[y]},null,8,["modelValue","label","rules"]),a(q,{modelValue:r.surname,"onUpdate:modelValue":b[1]||(b[1]=w=>r.surname=w),label:i.$t("common.surname"),outlined:"",rules:[y]},null,8,["modelValue","label","rules"]),a(q,{modelValue:r.username,"onUpdate:modelValue":b[2]||(b[2]=w=>r.username=w),label:i.$t("common.username"),outlined:"",rules:[c]},null,8,["modelValue","label","rules"]),a(q,{modelValue:r.date_of_birth,"onUpdate:modelValue":b[3]||(b[3]=w=>r.date_of_birth=w),label:i.$t("profile.dateOfBirth"),type:"date",outlined:""},null,8,["modelValue","label"]),a(R,{modelValue:r.birth_year_visible,"onUpdate:modelValue":b[4]||(b[4]=w=>r.birth_year_visible=w),label:i.$t("profile.showBirthYear")},null,8,["modelValue","label"]),m("div",_l,[a(P,{label:i.$t("common.cancel"),color:"grey",flat:"",onClick:n},null,8,["label"]),a(P,{type:"submit",label:i.$t("common.save"),color:"primary",loading:u(p).isLoading},null,8,["label","loading"])])]),_:1})]),_:1})]),_:1}),a(F,{class:"q-mt-md"},{default:s(()=>[a($,null,{default:s(()=>[m("div",hl,d(i.$t("notifications.title")),1),a(Ye)]),_:1})]),_:1}),m("div",$l,[a(ml)])])])]),_:1}))}});export{Gl as default};
