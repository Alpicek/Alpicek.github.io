import{a as k,r as n,h as q,i as f,w,o,f as s,c as d,j as Q,e as a,k as h,t as r,Q as v,u as $}from"./index-Wt6DnGfT.js";import{Q as b}from"./QPage-BibazWmS.js";import{u as x}from"./use-quasar-CEy2iTb0.js";import{u as B}from"./useAuth-CAJze-Et.js";import{u as P}from"./vue-i18n.runtime-CgijP6w7.js";import"./supabase-BDcL2ig_.js";const z={class:"text-center"},A={key:1,class:"q-gutter-md"},C={class:"q-mt-md q-mb-none"},E={class:"text-grey-7"},M={key:2,class:"q-gutter-md"},R={class:"q-mt-md q-mb-none"},V={class:"text-grey-7"},L=k({__name:"EmailVerificationPage",setup(S){const c=$(),l=x(),{t:u}=P(),{initializeAuth:y}=B(),m=n(!0),t=n(!1),p=n(""),g=()=>{c.push("/")},_=()=>{c.push("/auth")};return q(async()=>{try{await y();const i=new URLSearchParams(window.location.search).get("type");i==="signup"?(t.value=!0,l.notify({type:"positive",message:u("auth.verification.emailVerified"),position:"top"})):i==="recovery"?(t.value=!0,l.notify({type:"positive",message:u("auth.verification.passwordResetReady"),position:"top"})):t.value=!0}catch(e){console.error("Email verification error:",e),t.value=!1,p.value=e instanceof Error?e.message:"Unknown error"}finally{m.value=!1}}),(e,i)=>(o(),f(b,{class:"flex flex-center column q-gutter-md"},{default:w(()=>[s("div",z,[m.value?(o(),f(Q,{key:0,size:"50px",color:"primary"})):t.value?(o(),d("div",A,[a(h,{name:"check_circle",color:"positive",size:"64px"}),s("h4",C,r(e.$t("auth.verification.success")),1),s("p",E,r(e.$t("auth.verification.successMessage")),1),a(v,{color:"primary",label:e.$t("auth.verification.continue"),onClick:g},null,8,["label"])])):(o(),d("div",M,[a(h,{name:"error",color:"negative",size:"64px"}),s("h4",R,r(e.$t("auth.verification.error")),1),s("p",V,r(p.value||e.$t("auth.verification.errorMessage")),1),a(v,{color:"primary",label:e.$t("auth.verification.retry"),onClick:_},null,8,["label"])]))])]),_:1}))}});export{L as default};
