import{E as G,C as m,G as C,H as we,I as ea,J as wt,K as fe,r as k,L as ta,M as aa,w as T,x as me,z as Z,p as te,N as ze,O as Xe,P as ae,R as qe,S as xe,T as na,U as oa,V as Ie,W as ye,X as Pe,Y as St,Z as De,$ as Re,a0 as at,a1 as ra,a2 as la,a3 as ia,a4 as Dt,a5 as sa,a6 as _t,a7 as ua,a8 as ca,a9 as da,aa as fa,B as nt,ab as ne,ac as ot,ad as Mt,ae as va,af as ha,ag as ma,ah as ga,ai as ya,aj as ba,ak as Le,al as pa,b as _e,am as zt,an as Ct,a as Te,u as Ke,y as E,o as B,h,f as d,ao as je,v as Q,ap as wa,aq as Qe,ar as Sa,as as Da,at as rt,au as $t,av as kt,aw as _a,ax as K,q as z,Q as Ma,l as lt,g as ke,t as I,m as Ze,e as ue,A as za,F as Ca,D as $a,ay as qt,az as ka,j as xt,aA as it,aB as qa,k as Tt,i as st,aC as xa,_ as Ta}from"./index-BR5I7U9B.js";import{Q as j,a as H,b as ce}from"./QItem-C5GHLq0T.js";import{Q as We}from"./QList-D9VkAbJk.js";import{Q as Oa,u as Ot}from"./usePushNotifications-uhQh3fvq.js";import{Q as Bt,b as ee,p as A,c as Ba}from"./format-SQJMwOX7.js";import{Q as pe}from"./QResizeObserver-DZc6HSOo.js";import{g as ut,s as ct}from"./touch-BjYP5sR0.js";import{c as Ya}from"./selection-CVaP_A9r.js";import{C as he}from"./ClosePopup-ZLXO9D4Y.js";import{u as Ha}from"./auth-store-CLpI6O-q.js";import{Q as dt}from"./QBadge-DErxSnF2.js";import{u as Aa}from"./useNotifications-BB00H4uA.js";import"./supabase-C7Q3J7Aw.js";import"./position-engine-ClI9_kBB.js";import"./notifications-store-C2VRvdio.js";const Ia=G({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:a}){const r=m(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>C("div",{class:r.value},we(a.default))}}),Pa=Object.keys(wt);function La(e){return Pa.reduce((a,r)=>{const o=e[r];return o!==void 0&&(a[r]=o),a},{})}const Yt=G({name:"QBtnDropdown",props:{...wt,...ea,modelValue:Boolean,split:Boolean,dropdownIcon:String,contentClass:[Array,String,Object],contentStyle:[Array,String,Object],cover:Boolean,persistent:Boolean,noEscDismiss:Boolean,noRouteDismiss:Boolean,autoClose:Boolean,noRefocus:Boolean,noFocus:Boolean,menuAnchor:{type:String,default:"bottom end"},menuSelf:{type:String,default:"top end"},menuOffset:Array,disableMainBtn:Boolean,disableDropdown:Boolean,noIconAnimation:Boolean,toggleAriaLabel:String},emits:["update:modelValue","click","beforeShow","show","beforeHide","hide"],setup(e,{slots:a,emit:r}){const{proxy:o}=fe(),t=k(e.modelValue),n=k(null),s=ta(),l=m(()=>{const g={"aria-expanded":t.value===!0?"true":"false","aria-haspopup":"true","aria-controls":s.value,"aria-label":e.toggleAriaLabel||o.$q.lang.label[t.value===!0?"collapse":"expand"](e.label)};return(e.disable===!0||e.split===!1&&e.disableMainBtn===!0||e.disableDropdown===!0)&&(g["aria-disabled"]="true"),g}),u=m(()=>"q-btn-dropdown__arrow"+(t.value===!0&&e.noIconAnimation===!1?" rotate-180":"")+(e.split===!1?" q-btn-dropdown__arrow-container":"")),v=m(()=>aa(e)),i=m(()=>La(e));T(()=>e.modelValue,g=>{n.value?.[g?"show":"hide"]()}),T(()=>e.split,O);function b(g){t.value=!0,r("beforeShow",g)}function S(g){r("show",g),r("update:modelValue",!0)}function f(g){t.value=!1,r("beforeHide",g)}function p(g){r("hide",g),r("update:modelValue",!1)}function x(g){r("click",g)}function M(g){ze(g),O(),r("click",g)}function D(g){n.value?.toggle(g)}function w(g){n.value?.show(g)}function O(g){n.value?.hide(g)}return Object.assign(o,{show:w,hide:O,toggle:D}),me(()=>{e.modelValue===!0&&w()}),()=>{const g=[C(Z,{class:u.value,name:e.dropdownIcon||o.$q.iconSet.arrow.dropdown})];return e.disableDropdown!==!0&&g.push(C(Bt,{ref:n,id:s.value,class:e.contentClass,style:e.contentStyle,cover:e.cover,fit:!0,persistent:e.persistent,noEscDismiss:e.noEscDismiss,noRouteDismiss:e.noRouteDismiss,autoClose:e.autoClose,noFocus:e.noFocus,noRefocus:e.noRefocus,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,separateClosePopup:!0,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:b,onShow:S,onBeforeHide:f,onHide:p},a.default)),e.split===!1?C(te,{class:"q-btn-dropdown q-btn-dropdown--simple",...i.value,...l.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:x},{default:()=>we(a.label,[]).concat(g),loading:a.loading}):C(Oa,{class:"q-btn-dropdown q-btn-dropdown--split no-wrap q-btn-item",rounded:e.rounded,square:e.square,...v.value,glossy:e.glossy,stretch:e.stretch},()=>[C(te,{class:"q-btn-dropdown--current",...i.value,disable:e.disable===!0||e.disableMainBtn===!0,noWrap:!0,round:!1,onClick:M},{default:a.label,loading:a.loading}),C(te,{class:"q-btn-dropdown__arrow-container q-anchor--skip",...l.value,...v.value,disable:e.disable===!0||e.disableDropdown===!0,rounded:e.rounded,color:e.color,textColor:e.textColor,dense:e.dense,size:e.size,padding:e.padding,ripple:e.ripple},()=>g)])}}}),Qa=G({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:a}){const r=m(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>C("div",{class:r.value,role:"toolbar"},we(a.default))}}),Ea=G({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:a,emit:r}){const{proxy:{$q:o}}=fe(),t=Xe(qe,ae);if(t===ae)return console.error("QHeader needs to be child of QLayout"),ae;const n=k(parseInt(e.heightHint,10)),s=k(!0),l=m(()=>e.reveal===!0||t.view.value.indexOf("H")!==-1||o.platform.is.ios&&t.isContainer.value===!0),u=m(()=>{if(e.modelValue!==!0)return 0;if(l.value===!0)return s.value===!0?n.value:0;const w=n.value-t.scroll.value.position;return w>0?w:0}),v=m(()=>e.modelValue!==!0||l.value===!0&&s.value!==!0),i=m(()=>e.modelValue===!0&&v.value===!0&&e.reveal===!0),b=m(()=>"q-header q-layout__section--marginal "+(l.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(v.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),S=m(()=>{const w=t.rows.value.top,O={};return w[0]==="l"&&t.left.space===!0&&(O[o.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),w[2]==="r"&&t.right.space===!0&&(O[o.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),O});function f(w,O){t.update("header",w,O)}function p(w,O){w.value!==O&&(w.value=O)}function x({height:w}){p(n,w),f("size",w)}function M(w){i.value===!0&&p(s,!0),r("focusin",w)}T(()=>e.modelValue,w=>{f("space",w),p(s,!0),t.animate()}),T(u,w=>{f("offset",w)}),T(()=>e.reveal,w=>{w===!1&&p(s,e.modelValue)}),T(s,w=>{t.animate(),r("reveal",w)}),T(t.scroll,w=>{e.reveal===!0&&p(s,w.direction==="up"||w.position<=e.revealOffset||w.position-w.inflectionPoint<100)});const D={};return t.instances.header=D,e.modelValue===!0&&f("size",n.value),f("space",e.modelValue),f("offset",u.value),xe(()=>{t.instances.header===D&&(t.instances.header=void 0,f("size",0),f("offset",0),f("space",!1))}),()=>{const w=na(a.default,[]);return e.elevated===!0&&w.push(C("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),w.push(C(pe,{debounce:0,onResize:x})),C("header",{class:b.value,style:S.value,onFocusin:M},w)}}});function Ee(e,a,r){const o=Re(e);let t,n=o.left-a.event.x,s=o.top-a.event.y,l=Math.abs(n),u=Math.abs(s);const v=a.direction;v.horizontal===!0&&v.vertical!==!0?t=n<0?"left":"right":v.horizontal!==!0&&v.vertical===!0?t=s<0?"up":"down":v.up===!0&&s<0?(t="up",l>u&&(v.left===!0&&n<0?t="left":v.right===!0&&n>0&&(t="right"))):v.down===!0&&s>0?(t="down",l>u&&(v.left===!0&&n<0?t="left":v.right===!0&&n>0&&(t="right"))):v.left===!0&&n<0?(t="left",l<u&&(v.up===!0&&s<0?t="up":v.down===!0&&s>0&&(t="down"))):v.right===!0&&n>0&&(t="right",l<u&&(v.up===!0&&s<0?t="up":v.down===!0&&s>0&&(t="down")));let i=!1;if(t===void 0&&r===!1){if(a.event.isFirst===!0||a.event.lastDir===void 0)return{};t=a.event.lastDir,i=!0,t==="left"||t==="right"?(o.left-=n,l=0,n=0):(o.top-=s,u=0,s=0)}return{synthetic:i,payload:{evt:e,touch:a.event.mouse!==!0,mouse:a.event.mouse===!0,position:o,direction:t,isFirst:a.event.isFirst,isFinal:r===!0,duration:Date.now()-a.event.time,distance:{x:l,y:u},offset:{x:n,y:s},delta:{x:o.left-a.event.lastX,y:o.top-a.event.lastY}}}}let Fa=0;const be=oa({name:"touch-pan",beforeMount(e,{value:a,modifiers:r}){if(r.mouse!==!0&&ye.has.touch!==!0)return;function o(n,s){r.mouse===!0&&s===!0?la(n):(r.stop===!0&&ze(n),r.prevent===!0&&at(n))}const t={uid:"qvtp_"+Fa++,handler:a,modifiers:r,direction:ut(r),noop:St,mouseStart(n){ct(n,t)&&ra(n)&&(De(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(n,!0))},touchStart(n){if(ct(n,t)){const s=n.target;De(t,"temp",[[s,"touchmove","move","notPassiveCapture"],[s,"touchcancel","end","passiveCapture"],[s,"touchend","end","passiveCapture"]]),t.start(n)}},start(n,s){if(ye.is.firefox===!0&&Pe(e,!0),t.lastEvt=n,s===!0||r.stop===!0){if(t.direction.all!==!0&&(s!==!0||t.modifiers.mouseAllDir!==!0&&t.modifiers.mousealldir!==!0)){const v=n.type.indexOf("mouse")!==-1?new MouseEvent(n.type,n):new TouchEvent(n.type,n);n.defaultPrevented===!0&&at(v),n.cancelBubble===!0&&ze(v),Object.assign(v,{qKeyEvent:n.qKeyEvent,qClickOutside:n.qClickOutside,qAnchorHandled:n.qAnchorHandled,qClonedBy:n.qClonedBy===void 0?[t.uid]:n.qClonedBy.concat(t.uid)}),t.initialEvent={target:n.target,event:v}}ze(n)}const{left:l,top:u}=Re(n);t.event={x:l,y:u,time:Date.now(),mouse:s===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:l,lastY:u}},move(n){if(t.event===void 0)return;const s=Re(n),l=s.left-t.event.x,u=s.top-t.event.y;if(l===0&&u===0)return;t.lastEvt=n;const v=t.event.mouse===!0,i=()=>{o(n,v);let f;r.preserveCursor!==!0&&r.preservecursor!==!0&&(f=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),v===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Ya(),t.styleCleanup=p=>{if(t.styleCleanup=void 0,f!==void 0&&(document.documentElement.style.cursor=f),document.body.classList.remove("non-selectable"),v===!0){const x=()=>{document.body.classList.remove("no-pointer-events--children")};p!==void 0?setTimeout(()=>{x(),p()},50):x()}else p!==void 0&&p()}};if(t.event.detected===!0){t.event.isFirst!==!0&&o(n,t.event.mouse);const{payload:f,synthetic:p}=Ee(n,t,!1);f!==void 0&&(t.handler(f)===!1?t.end(n):(t.styleCleanup===void 0&&t.event.isFirst===!0&&i(),t.event.lastX=f.position.left,t.event.lastY=f.position.top,t.event.lastDir=p===!0?void 0:f.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||v===!0&&(t.modifiers.mouseAllDir===!0||t.modifiers.mousealldir===!0)){i(),t.event.detected=!0,t.move(n);return}const b=Math.abs(l),S=Math.abs(u);b!==S&&(t.direction.horizontal===!0&&b>S||t.direction.vertical===!0&&b<S||t.direction.up===!0&&b<S&&u<0||t.direction.down===!0&&b<S&&u>0||t.direction.left===!0&&b>S&&l<0||t.direction.right===!0&&b>S&&l>0?(t.event.detected=!0,t.move(n)):t.end(n,!0))},end(n,s){if(t.event!==void 0){if(Ie(t,"temp"),ye.is.firefox===!0&&Pe(e,!1),s===!0)t.styleCleanup?.(),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(Ee(n===void 0?t.lastEvt:n,t).payload);const{payload:l}=Ee(n===void 0?t.lastEvt:n,t,!0),u=()=>{t.handler(l)};t.styleCleanup!==void 0?t.styleCleanup(u):u()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};if(e.__qtouchpan=t,r.mouse===!0){const n=r.mouseCapture===!0||r.mousecapture===!0?"Capture":"";De(t,"main",[[e,"mousedown","mouseStart",`passive${n}`]])}ye.has.touch===!0&&De(t,"main",[[e,"touchstart","touchStart",`passive${r.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,a){const r=e.__qtouchpan;r!==void 0&&(a.oldValue!==a.value&&(typeof value!="function"&&r.end(),r.handler=a.value),r.direction=ut(a.modifiers))},beforeUnmount(e){const a=e.__qtouchpan;a!==void 0&&(a.event!==void 0&&a.end(),Ie(a,"main"),Ie(a,"temp"),ye.is.firefox===!0&&Pe(e,!1),a.styleCleanup?.(),delete e.__qtouchpan)}}),ft=150,Na=G({name:"QDrawer",inheritAttrs:!1,props:{...sa,...Dt,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...ia,"onLayout","miniState"],setup(e,{slots:a,emit:r,attrs:o}){const t=fe(),{proxy:{$q:n}}=t,s=_t(e,n),{preventBodyScroll:l}=fa(),{registerTimeout:u,removeTimeout:v}=ua(),i=Xe(qe,ae);if(i===ae)return console.error("QDrawer needs to be child of QLayout"),ae;let b,S=null,f;const p=k(e.behavior==="mobile"||e.behavior!=="desktop"&&i.totalWidth.value<=e.breakpoint),x=m(()=>e.mini===!0&&p.value!==!0),M=m(()=>x.value===!0?e.miniWidth:e.width),D=k(e.showIfAbove===!0&&p.value===!1?!0:e.modelValue===!0),w=m(()=>e.persistent!==!0&&(p.value===!0||ge.value===!0));function O(c,$){if(L(),c!==!1&&i.animate(),V(0),p.value===!0){const N=i.instances[q.value];N?.belowBreakpoint===!0&&N.hide(!1),ie(1),i.isContainer.value!==!0&&l(!0)}else ie(0),c!==!1&&Ye(!1);u(()=>{c!==!1&&Ye(!0),$!==!0&&r("show",c)},ft)}function g(c,$){oe(),c!==!1&&i.animate(),ie(0),V(re.value*M.value),He(),$!==!0?u(()=>{r("hide",c)},ft):v()}const{show:Y,hide:P}=ca({showing:D,hideOnRouteChange:w,handleShow:O,handleHide:g}),{addToHistory:L,removeFromHistory:oe}=da(D,P,w),F={belowBreakpoint:p,hide:P},R=m(()=>e.side==="right"),re=m(()=>(n.lang.rtl===!0?-1:1)*(R.value===!0?1:-1)),de=k(0),le=k(!1),y=k(!1),_=k(M.value*re.value),q=m(()=>R.value===!0?"left":"right"),W=m(()=>D.value===!0&&p.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:M.value:0),J=m(()=>e.overlay===!0||e.miniToOverlay===!0||i.view.value.indexOf(R.value?"R":"L")!==-1||n.platform.is.ios===!0&&i.isContainer.value===!0),U=m(()=>e.overlay===!1&&D.value===!0&&p.value===!1),ge=m(()=>e.overlay===!0&&D.value===!0&&p.value===!1),Oe=m(()=>"fullscreen q-drawer__backdrop"+(D.value===!1&&le.value===!1?" hidden":"")),Ft=m(()=>({backgroundColor:`rgba(0,0,0,${de.value*.4})`})),et=m(()=>R.value===!0?i.rows.value.top[2]==="r":i.rows.value.top[0]==="l"),Nt=m(()=>R.value===!0?i.rows.value.bottom[2]==="r":i.rows.value.bottom[0]==="l"),Vt=m(()=>{const c={};return i.header.space===!0&&et.value===!1&&(J.value===!0?c.top=`${i.header.offset}px`:i.header.space===!0&&(c.top=`${i.header.size}px`)),i.footer.space===!0&&Nt.value===!1&&(J.value===!0?c.bottom=`${i.footer.offset}px`:i.footer.space===!0&&(c.bottom=`${i.footer.size}px`)),c}),Rt=m(()=>{const c={width:`${M.value}px`,transform:`translateX(${_.value}px)`};return p.value===!0?c:Object.assign(c,Vt.value)}),jt=m(()=>"q-drawer__content fit "+(i.isContainer.value!==!0?"scroll":"overflow-auto")),Zt=m(()=>`q-drawer q-drawer--${e.side}`+(y.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(s.value===!0?" q-drawer--dark q-dark":"")+(le.value===!0?" no-transition":D.value===!0?"":" q-layout--prevent-focus")+(p.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${x.value===!0?"mini":"standard"}`+(J.value===!0||U.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(et.value===!0?" q-drawer--top-padding":""))),Wt=m(()=>{const c=n.lang.rtl===!0?e.side:q.value;return[[be,Gt,void 0,{[c]:!0,mouse:!0}]]}),Ut=m(()=>{const c=n.lang.rtl===!0?q.value:e.side;return[[be,tt,void 0,{[c]:!0,mouse:!0}]]}),Xt=m(()=>{const c=n.lang.rtl===!0?q.value:e.side;return[[be,tt,void 0,{[c]:!0,mouse:!0,mouseAllDir:!0}]]});function Be(){Jt(p,e.behavior==="mobile"||e.behavior!=="desktop"&&i.totalWidth.value<=e.breakpoint)}T(p,c=>{c===!0?(b=D.value,D.value===!0&&P(!1)):e.overlay===!1&&e.behavior!=="mobile"&&b!==!1&&(D.value===!0?(V(0),ie(0),He()):Y(!1))}),T(()=>e.side,(c,$)=>{i.instances[$]===F&&(i.instances[$]=void 0,i[$].space=!1,i[$].offset=0),i.instances[c]=F,i[c].size=M.value,i[c].space=U.value,i[c].offset=W.value}),T(i.totalWidth,()=>{(i.isContainer.value===!0||document.qScrollPrevented!==!0)&&Be()}),T(()=>e.behavior+e.breakpoint,Be),T(i.isContainer,c=>{D.value===!0&&l(c!==!0),c===!0&&Be()}),T(i.scrollbarWidth,()=>{V(D.value===!0?0:void 0)}),T(W,c=>{se("offset",c)}),T(U,c=>{r("onLayout",c),se("space",c)}),T(R,()=>{V()}),T(M,c=>{V(),Ae(e.miniToOverlay,c)}),T(()=>e.miniToOverlay,c=>{Ae(c,M.value)}),T(()=>n.lang.rtl,()=>{V()}),T(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(Kt(),i.animate())}),T(x,c=>{r("miniState",c)});function V(c){c===void 0?nt(()=>{c=D.value===!0?0:M.value,V(re.value*c)}):(i.isContainer.value===!0&&R.value===!0&&(p.value===!0||Math.abs(c)===M.value)&&(c+=re.value*i.scrollbarWidth.value),_.value=c)}function ie(c){de.value=c}function Ye(c){const $=c===!0?"remove":i.isContainer.value!==!0?"add":"";$!==""&&document.body.classList[$]("q-body--drawer-toggle")}function Kt(){S!==null&&clearTimeout(S),t.proxy&&t.proxy.$el&&t.proxy.$el.classList.add("q-drawer--mini-animate"),y.value=!0,S=setTimeout(()=>{S=null,y.value=!1,t?.proxy?.$el?.classList.remove("q-drawer--mini-animate")},150)}function Gt(c){if(D.value!==!1)return;const $=M.value,N=ee(c.distance.x,0,$);if(c.isFinal===!0){N>=Math.min(75,$)===!0?Y():(i.animate(),ie(0),V(re.value*$)),le.value=!1;return}V((n.lang.rtl===!0?R.value!==!0:R.value)?Math.max($-N,0):Math.min(0,N-$)),ie(ee(N/$,0,1)),c.isFirst===!0&&(le.value=!0)}function tt(c){if(D.value!==!0)return;const $=M.value,N=c.direction===e.side,Se=(n.lang.rtl===!0?N!==!0:N)?ee(c.distance.x,0,$):0;if(c.isFinal===!0){Math.abs(Se)<Math.min(75,$)===!0?(i.animate(),ie(1),V(0)):P(),le.value=!1;return}V(re.value*Se),ie(ee(1-Se/$,0,1)),c.isFirst===!0&&(le.value=!0)}function He(){l(!1),Ye(!0)}function se(c,$){i.update(e.side,c,$)}function Jt(c,$){c.value!==$&&(c.value=$)}function Ae(c,$){se("size",c===!0?e.miniWidth:$)}return i.instances[e.side]=F,Ae(e.miniToOverlay,M.value),se("space",U.value),se("offset",W.value),e.showIfAbove===!0&&e.modelValue!==!0&&D.value===!0&&e["onUpdate:modelValue"]!==void 0&&r("update:modelValue",!0),me(()=>{r("onLayout",U.value),r("miniState",x.value),b=e.showIfAbove===!0;const c=()=>{(D.value===!0?O:g)(!1,!0)};if(i.totalWidth.value!==0){nt(c);return}f=T(i.totalWidth,()=>{f(),f=void 0,D.value===!1&&e.showIfAbove===!0&&p.value===!1?Y(!1):c()})}),xe(()=>{f?.(),S!==null&&(clearTimeout(S),S=null),D.value===!0&&He(),i.instances[e.side]===F&&(i.instances[e.side]=void 0,se("size",0),se("offset",0),se("space",!1))}),()=>{const c=[];p.value===!0&&(e.noSwipeOpen===!1&&c.push(ne(C("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),Wt.value)),c.push(ot("div",{ref:"backdrop",class:Oe.value,style:Ft.value,"aria-hidden":"true",onClick:P},void 0,"backdrop",e.noSwipeBackdrop!==!0&&D.value===!0,()=>Xt.value)));const $=x.value===!0&&a.mini!==void 0,N=[C("div",{...o,key:""+$,class:[jt.value,o.class]},$===!0?a.mini():we(a.default))];return e.elevated===!0&&D.value===!0&&N.push(C("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),c.push(ot("aside",{ref:"content",class:Zt.value,style:Rt.value},N,"contentclose",e.noSwipeClose!==!0&&p.value===!0,()=>Ut.value)),C("div",{class:"q-drawer-container"},c)}}}),Va=G({name:"QPageContainer",setup(e,{slots:a}){const{proxy:{$q:r}}=fe(),o=Xe(qe,ae);if(o===ae)return console.error("QPageContainer needs to be child of QLayout"),ae;Mt(va,!0);const t=m(()=>{const n={};return o.header.space===!0&&(n.paddingTop=`${o.header.size}px`),o.right.space===!0&&(n[`padding${r.lang.rtl===!0?"Left":"Right"}`]=`${o.right.size}px`),o.footer.space===!0&&(n.paddingBottom=`${o.footer.size}px`),o.left.space===!0&&(n[`padding${r.lang.rtl===!0?"Right":"Left"}`]=`${o.left.size}px`),n});return()=>C("div",{class:"q-page-container",style:t.value},we(a.default))}}),{passive:vt}=ha,Ra=["both","horizontal","vertical"],Ht=G({name:"QScrollObserver",props:{axis:{type:String,validator:e=>Ra.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:ma},emits:["scroll"],setup(e,{emit:a}){const r={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let o=null,t,n;T(()=>e.scrollTarget,()=>{u(),l()});function s(){o?.();const b=Math.max(0,ya(t)),S=ba(t),f={top:b-r.position.top,left:S-r.position.left};if(e.axis==="vertical"&&f.top===0||e.axis==="horizontal"&&f.left===0)return;const p=Math.abs(f.top)>=Math.abs(f.left)?f.top<0?"up":"down":f.left<0?"left":"right";r.position={top:b,left:S},r.directionChanged=r.direction!==p,r.delta=f,r.directionChanged===!0&&(r.direction=p,r.inflectionPoint=r.position),a("scroll",{...r})}function l(){t=ga(n,e.scrollTarget),t.addEventListener("scroll",v,vt),v(!0)}function u(){t!==void 0&&(t.removeEventListener("scroll",v,vt),t=void 0)}function v(b){if(b===!0||e.debounce===0||e.debounce==="0")s();else if(o===null){const[S,f]=e.debounce?[setTimeout(s,e.debounce),clearTimeout]:[requestAnimationFrame(s),cancelAnimationFrame];o=()=>{f(S),o=null}}}const{proxy:i}=fe();return T(()=>i.$q.lang.rtl,s),me(()=>{n=i.$el.parentNode,l()}),xe(()=>{o?.(),u()}),Object.assign(i,{trigger:v,getPosition:()=>r}),St}}),ja=G({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:a,emit:r}){const{proxy:{$q:o}}=fe(),t=k(null),n=k(o.screen.height),s=k(e.container===!0?0:o.screen.width),l=k({position:0,direction:"down",inflectionPoint:0}),u=k(0),v=k(pa.value===!0?0:Le()),i=m(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),b=m(()=>e.container===!1?{minHeight:o.screen.height+"px"}:null),S=m(()=>v.value!==0?{[o.lang.rtl===!0?"left":"right"]:`${v.value}px`}:null),f=m(()=>v.value!==0?{[o.lang.rtl===!0?"right":"left"]:0,[o.lang.rtl===!0?"left":"right"]:`-${v.value}px`,width:`calc(100% + ${v.value}px)`}:null);function p(g){if(e.container===!0||document.qScrollPrevented!==!0){const Y={position:g.position.top,direction:g.direction,directionChanged:g.directionChanged,inflectionPoint:g.inflectionPoint.top,delta:g.delta.top};l.value=Y,e.onScroll!==void 0&&r("scroll",Y)}}function x(g){const{height:Y,width:P}=g;let L=!1;n.value!==Y&&(L=!0,n.value=Y,e.onScrollHeight!==void 0&&r("scrollHeight",Y),D()),s.value!==P&&(L=!0,s.value=P),L===!0&&e.onResize!==void 0&&r("resize",g)}function M({height:g}){u.value!==g&&(u.value=g,D())}function D(){if(e.container===!0){const g=n.value>u.value?Le():0;v.value!==g&&(v.value=g)}}let w=null;const O={instances:{},view:m(()=>e.view),isContainer:m(()=>e.container),rootRef:t,height:n,containerHeight:u,scrollbarWidth:v,totalWidth:m(()=>s.value+v.value),rows:m(()=>{const g=e.view.toLowerCase().split(" ");return{top:g[0].split(""),middle:g[1].split(""),bottom:g[2].split("")}}),header:_e({size:0,offset:0,space:!1}),right:_e({size:300,offset:0,space:!1}),footer:_e({size:0,offset:0,space:!1}),left:_e({size:300,offset:0,space:!1}),scroll:l,animate(){w!==null?clearTimeout(w):document.body.classList.add("q-body--layout-animate"),w=setTimeout(()=>{w=null,document.body.classList.remove("q-body--layout-animate")},155)},update(g,Y,P){O[g][Y]=P}};if(Mt(qe,O),Le()>0){let g=function(){L=null,oe.classList.remove("hide-scrollbar")},Y=function(){if(L===null){if(oe.scrollHeight>o.screen.height)return;oe.classList.add("hide-scrollbar")}else clearTimeout(L);L=setTimeout(g,300)},P=function(F){L!==null&&F==="remove"&&(clearTimeout(L),g()),window[`${F}EventListener`]("resize",Y)},L=null;const oe=document.body;T(()=>e.container!==!0?"add":"remove",P),e.container!==!0&&P("add"),zt(()=>{P("remove")})}return()=>{const g=Ct(a.default,[C(Ht,{onScroll:p}),C(pe,{onResize:x})]),Y=C("div",{class:i.value,style:b.value,ref:e.container===!0?void 0:t,tabindex:-1},g);return e.container===!0?C("div",{class:"q-layout-container overflow-hidden",ref:t},[C(pe,{onResize:M}),C("div",{class:"absolute-full",style:S.value},[C("div",{class:"scroll",style:f.value},[Y])])]):Y}}}),Za=Te({__name:"LanguageSwitcher",setup(e){const{locale:a}=Ke(),r=m(()=>a.value),o=m(()=>{switch(r.value){case"cs_CZ":return"Čeština";case"en_US":return"English";default:return"Language"}}),t=n=>{a.value=n,localStorage.setItem("darkovnicek-language",n)};return(n,s)=>(B(),E(Yt,{flat:"",dense:"",label:n.$q.screen.xs?void 0:o.value,icon:"language"},{default:h(()=>[d(We,null,{default:h(()=>[ne((B(),E(j,{clickable:"",onClick:s[0]||(s[0]=l=>t("cs_CZ")),class:je({"bg-primary text-white":r.value==="cs_CZ"})},{default:h(()=>[d(H,{avatar:""},{default:h(()=>[d(Z,{name:"flag"})]),_:1}),d(H,null,{default:h(()=>[d(ce,null,{default:h(()=>s[2]||(s[2]=[Q("Čeština")])),_:1,__:[2]})]),_:1})]),_:1},8,["class"])),[[he]]),ne((B(),E(j,{clickable:"",onClick:s[1]||(s[1]=l=>t("en_US")),class:je({"bg-primary text-white":r.value==="en_US"})},{default:h(()=>[d(H,{avatar:""},{default:h(()=>[d(Z,{name:"flag"})]),_:1}),d(H,null,{default:h(()=>[d(ce,null,{default:h(()=>s[3]||(s[3]=[Q("English")])),_:1,__:[3]})]),_:1})]),_:1},8,["class"])),[[he]])]),_:1})]),_:1},8,["label"]))}}),Wa=G({props:["store","barStyle","verticalBarStyle","horizontalBarStyle"],setup(e){return()=>[C("div",{class:e.store.scroll.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:e.store.onVerticalMousedown}),C("div",{class:e.store.scroll.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:e.store.onHorizontalMousedown}),ne(C("div",{ref:e.store.scroll.vertical.ref,class:e.store.scroll.vertical.thumbClass.value,style:e.store.scroll.vertical.style.value,"aria-hidden":"true"}),e.store.thumbVertDir),ne(C("div",{ref:e.store.scroll.horizontal.ref,class:e.store.scroll.horizontal.thumbClass.value,style:e.store.scroll.horizontal.style.value,"aria-hidden":"true"}),e.store.thumbHorizDir)]}}),ht=["vertical","horizontal"],Fe={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},mt={prevent:!0,mouse:!0,mouseAllDir:!0},gt=e=>e>=250?50:Math.ceil(e/5),Ua=G({name:"QScrollArea",props:{...Dt,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],verticalOffset:{type:Array,default:[0,0]},horizontalOffset:{type:Array,default:[0,0]},contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:a,emit:r}){const o=k(!1),t=k(!1),n=k(!1),s={vertical:k(0),horizontal:k(0)},l={vertical:{ref:k(null),position:k(0),size:k(0)},horizontal:{ref:k(null),position:k(0),size:k(0)}},{proxy:u}=fe(),v=_t(e,u.$q);let i=null,b;const S=k(null),f=m(()=>"q-scrollarea"+(v.value===!0?" q-scrollarea--dark":""));Object.assign(s,{verticalInner:m(()=>s.vertical.value-e.verticalOffset[0]-e.verticalOffset[1]),horizontalInner:m(()=>s.horizontal.value-e.horizontalOffset[0]-e.horizontalOffset[1])}),l.vertical.percentage=m(()=>{const y=l.vertical.size.value-s.vertical.value;if(y<=0)return 0;const _=ee(l.vertical.position.value/y,0,1);return Math.round(_*1e4)/1e4}),l.vertical.thumbHidden=m(()=>(e.visible===null?n.value:e.visible)!==!0&&o.value===!1&&t.value===!1||l.vertical.size.value<=s.vertical.value+1),l.vertical.thumbStart=m(()=>e.verticalOffset[0]+l.vertical.percentage.value*(s.verticalInner.value-l.vertical.thumbSize.value)),l.vertical.thumbSize=m(()=>Math.round(ee(s.verticalInner.value*s.verticalInner.value/l.vertical.size.value,gt(s.verticalInner.value),s.verticalInner.value))),l.vertical.style=m(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${l.vertical.thumbStart.value}px`,height:`${l.vertical.thumbSize.value}px`,right:`${e.horizontalOffset[1]}px`})),l.vertical.thumbClass=m(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(l.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),l.vertical.barClass=m(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(l.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),l.horizontal.percentage=m(()=>{const y=l.horizontal.size.value-s.horizontal.value;if(y<=0)return 0;const _=ee(Math.abs(l.horizontal.position.value)/y,0,1);return Math.round(_*1e4)/1e4}),l.horizontal.thumbHidden=m(()=>(e.visible===null?n.value:e.visible)!==!0&&o.value===!1&&t.value===!1||l.horizontal.size.value<=s.horizontal.value+1),l.horizontal.thumbStart=m(()=>e.horizontalOffset[0]+l.horizontal.percentage.value*(s.horizontalInner.value-l.horizontal.thumbSize.value)),l.horizontal.thumbSize=m(()=>Math.round(ee(s.horizontalInner.value*s.horizontalInner.value/l.horizontal.size.value,gt(s.horizontalInner.value),s.horizontalInner.value))),l.horizontal.style=m(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[u.$q.lang.rtl===!0?"right":"left"]:`${l.horizontal.thumbStart.value}px`,width:`${l.horizontal.thumbSize.value}px`,bottom:`${e.verticalOffset[1]}px`})),l.horizontal.thumbClass=m(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(l.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),l.horizontal.barClass=m(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(l.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const p=m(()=>l.vertical.thumbHidden.value===!0&&l.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle);function x(){const y={};return ht.forEach(_=>{const q=l[_];Object.assign(y,{[_+"Position"]:q.position.value,[_+"Percentage"]:q.percentage.value,[_+"Size"]:q.size.value,[_+"ContainerSize"]:s[_].value,[_+"ContainerInnerSize"]:s[_+"Inner"].value})}),y}const M=wa(()=>{const y=x();y.ref=u,r("scroll",y)},0);function D(y,_,q){if(ht.includes(y)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(y==="vertical"?rt:Qe)(S.value,_,q)}function w({height:y,width:_}){let q=!1;s.vertical.value!==y&&(s.vertical.value=y,q=!0),s.horizontal.value!==_&&(s.horizontal.value=_,q=!0),q===!0&&L()}function O({position:y}){let _=!1;l.vertical.position.value!==y.top&&(l.vertical.position.value=y.top,_=!0),l.horizontal.position.value!==y.left&&(l.horizontal.position.value=y.left,_=!0),_===!0&&L()}function g({height:y,width:_}){l.horizontal.size.value!==_&&(l.horizontal.size.value=_,L()),l.vertical.size.value!==y&&(l.vertical.size.value=y,L())}function Y(y,_){const q=l[_];if(y.isFirst===!0){if(q.thumbHidden.value===!0)return;b=q.position.value,t.value=!0}else if(t.value!==!0)return;y.isFinal===!0&&(t.value=!1);const W=Fe[_],J=(q.size.value-s[_].value)/(s[_+"Inner"].value-q.thumbSize.value),U=y.distance[W.dist],ge=b+(y.direction===W.dir?1:-1)*U*J;oe(ge,_)}function P(y,_){const q=l[_];if(q.thumbHidden.value!==!0){const W=_==="vertical"?e.verticalOffset[0]:e.horizontalOffset[0],J=y[Fe[_].offset]-W,U=q.thumbStart.value-W;if(J<U||J>U+q.thumbSize.value){const ge=J-q.thumbSize.value/2,Oe=ee(ge/(s[_+"Inner"].value-q.thumbSize.value),0,1);oe(Oe*Math.max(0,q.size.value-s[_].value),_)}q.ref.value!==null&&q.ref.value.dispatchEvent(new MouseEvent(y.type,y))}}function L(){o.value=!0,i!==null&&clearTimeout(i),i=setTimeout(()=>{i=null,o.value=!1},e.delay),e.onScroll!==void 0&&M()}function oe(y,_){S.value[Fe[_].scroll]=y}let F=null;function R(){F!==null&&clearTimeout(F),F=setTimeout(()=>{F=null,n.value=!0},u.$q.platform.is.ios?50:0)}function re(){F!==null&&(clearTimeout(F),F=null),n.value=!1}let de=null;T(()=>u.$q.lang.rtl,y=>{S.value!==null&&Qe(S.value,Math.abs(l.horizontal.position.value)*(y===!0?-1:1))}),Sa(()=>{de={top:l.vertical.position.value,left:l.horizontal.position.value}}),Da(()=>{if(de===null)return;const y=S.value;y!==null&&(Qe(y,de.left),rt(y,de.top))}),xe(M.cancel),Object.assign(u,{getScrollTarget:()=>S.value,getScroll:x,getScrollPosition:()=>({top:l.vertical.position.value,left:l.horizontal.position.value}),getScrollPercentage:()=>({top:l.vertical.percentage.value,left:l.horizontal.percentage.value}),setScrollPosition:D,setScrollPercentage(y,_,q){D(y,_*(l[y].size.value-s[y].value)*(y==="horizontal"&&u.$q.lang.rtl===!0?-1:1),q)}});const le={scroll:l,thumbVertDir:[[be,y=>{Y(y,"vertical")},void 0,{vertical:!0,...mt}]],thumbHorizDir:[[be,y=>{Y(y,"horizontal")},void 0,{horizontal:!0,...mt}]],onVerticalMousedown(y){P(y,"vertical")},onHorizontalMousedown(y){P(y,"horizontal")}};return()=>C("div",{class:f.value,onMouseenter:R,onMouseleave:re},[C("div",{ref:S,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[C("div",{class:"q-scrollarea__content absolute",style:p.value},Ct(a.default,[C(pe,{debounce:0,onResize:g})])),C(Ht,{axis:"both",onScroll:O})]),C(pe,{debounce:0,onResize:w}),C(Wa,{store:le,barStyle:e.barStyle,verticalBarStyle:e.verticalBarStyle,horizontalBarStyle:e.horizontalBarStyle})])}}),At=864e5,Xa=36e5,Ue=6e4,It="YYYY-MM-DDTHH:mm:ss.SSSZ",Ka=/\[((?:[^\]\\]|\\]|\\)*)\]|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,Ga=/(\[[^\]]*\])|do|d{1,4}|Mo|M{1,4}|m{1,2}|wo|w{1,2}|Qo|Do|DDDo|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,Ne={};function Ja(e,a){const r="("+a.days.join("|")+")",o=e+r;if(Ne[o]!==void 0)return Ne[o];const t="("+a.daysShort.join("|")+")",n="("+a.months.join("|")+")",s="("+a.monthsShort.join("|")+")",l={};let u=0;const v=e.replace(Ga,b=>{switch(u++,b){case"YY":return l.YY=u,"(-?\\d{1,2})";case"YYYY":return l.YYYY=u,"(-?\\d{1,4})";case"M":return l.M=u,"(\\d{1,2})";case"Mo":return l.M=u++,"(\\d{1,2}(st|nd|rd|th))";case"MM":return l.M=u,"(\\d{2})";case"MMM":return l.MMM=u,s;case"MMMM":return l.MMMM=u,n;case"D":return l.D=u,"(\\d{1,2})";case"Do":return l.D=u++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return l.D=u,"(\\d{2})";case"H":return l.H=u,"(\\d{1,2})";case"HH":return l.H=u,"(\\d{2})";case"h":return l.h=u,"(\\d{1,2})";case"hh":return l.h=u,"(\\d{2})";case"m":return l.m=u,"(\\d{1,2})";case"mm":return l.m=u,"(\\d{2})";case"s":return l.s=u,"(\\d{1,2})";case"ss":return l.s=u,"(\\d{2})";case"S":return l.S=u,"(\\d{1})";case"SS":return l.S=u,"(\\d{2})";case"SSS":return l.S=u,"(\\d{3})";case"A":return l.A=u,"(AM|PM)";case"a":return l.a=u,"(am|pm)";case"aa":return l.aa=u,"(a\\.m\\.|p\\.m\\.)";case"ddd":return t;case"dddd":return r;case"Q":case"d":case"E":return"(\\d{1})";case"do":return u++,"(\\d{1}(st|nd|rd|th))";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"DDDo":return u++,"(\\d{1,3}(st|nd|rd|th))";case"w":return"(\\d{1,2})";case"wo":return u++,"(\\d{1,2}(st|nd|rd|th))";case"ww":return"(\\d{2})";case"Z":return l.Z=u,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return l.ZZ=u,"(Z|[+-]\\d{2}\\d{2})";case"X":return l.X=u,"(-?\\d+)";case"x":return l.x=u,"(-?\\d{4,})";default:return u--,b[0]==="["&&(b=b.substring(1,b.length-1)),b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}}),i={map:l,regex:new RegExp("^"+v)};return Ne[o]=i,i}function Pt(e,a){return e!==void 0?e:a!==void 0?a.date:_a.date}function yt(e,a=""){const r=e>0?"-":"+",o=Math.abs(e),t=Math.floor(o/60),n=o%60;return r+A(t)+a+A(n)}function en(e,a,r){let o=e.getFullYear(),t=e.getMonth();const n=e.getDate();return a.year!==void 0&&(o+=r*a.year,delete a.year),a.month!==void 0&&(t+=r*a.month,delete a.month),e.setDate(1),e.setMonth(2),e.setFullYear(o),e.setMonth(t),e.setDate(Math.min(n,Je(e))),a.date!==void 0&&(e.setDate(e.getDate()+r*a.date),delete a.date),e}function tn(e,a,r){const o=a.year!==void 0?a.year:e[`get${r}FullYear`](),t=a.month!==void 0?a.month-1:e[`get${r}Month`](),n=new Date(o,t+1,0).getDate(),s=Math.min(n,a.date!==void 0?a.date:e[`get${r}Date`]());return e[`set${r}Date`](1),e[`set${r}Month`](2),e[`set${r}FullYear`](o),e[`set${r}Month`](t),e[`set${r}Date`](s),delete a.year,delete a.month,delete a.date,e}function Ge(e,a,r){const o=Lt(a),t=new Date(e),n=o.year!==void 0||o.month!==void 0||o.date!==void 0?en(t,o,r):t;for(const s in o){const l=Ba(s);n[`set${l}`](n[`get${l}`]()+r*o[s])}return n}function Lt(e){const a={...e};return e.years!==void 0&&(a.year=e.years,delete a.years),e.months!==void 0&&(a.month=e.months,delete a.months),e.days!==void 0&&(a.date=e.days,delete a.days),e.day!==void 0&&(a.date=e.day,delete a.day),e.hour!==void 0&&(a.hours=e.hour,delete a.hour),e.minute!==void 0&&(a.minutes=e.minute,delete a.minute),e.second!==void 0&&(a.seconds=e.second,delete a.second),e.millisecond!==void 0&&(a.milliseconds=e.millisecond,delete a.millisecond),a}function Qt(e,a,r){const o=Lt(a),t=r===!0?"UTC":"",n=new Date(e),s=o.year!==void 0||o.month!==void 0||o.date!==void 0?tn(n,o,t):n;for(const l in o){const u=l.charAt(0).toUpperCase()+l.slice(1);s[`set${t}${u}`](o[l])}return s}function an(e,a,r){const o=nn(e,a,r),t=new Date(o.year,o.month===null?null:o.month-1,o.day===null?1:o.day,o.hour,o.minute,o.second,o.millisecond),n=t.getTimezoneOffset();return o.timezoneOffset===null||o.timezoneOffset===n?t:Ge(t,{minutes:o.timezoneOffset-n},1)}function nn(e,a,r,o,t){const n={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(e==null||e===""||typeof e!="string")return n;a===void 0&&(a=It);const s=Pt(r,$t.props),l=s.months,u=s.monthsShort,{regex:v,map:i}=Ja(a,s),b=e.match(v);if(b===null)return n;let S="";if(i.X!==void 0||i.x!==void 0){const f=parseInt(b[i.X!==void 0?i.X:i.x],10);if(isNaN(f)===!0||f<0)return n;const p=new Date(f*(i.X!==void 0?1e3:1));n.year=p.getFullYear(),n.month=p.getMonth()+1,n.day=p.getDate(),n.hour=p.getHours(),n.minute=p.getMinutes(),n.second=p.getSeconds(),n.millisecond=p.getMilliseconds()}else{if(i.YYYY!==void 0)n.year=parseInt(b[i.YYYY],10);else if(i.YY!==void 0){const f=parseInt(b[i.YY],10);n.year=f<0?f:2e3+f}if(i.M!==void 0){if(n.month=parseInt(b[i.M],10),n.month<1||n.month>12)return n}else i.MMM!==void 0?n.month=u.indexOf(b[i.MMM])+1:i.MMMM!==void 0&&(n.month=l.indexOf(b[i.MMMM])+1);if(i.D!==void 0){if(n.day=parseInt(b[i.D],10),n.year===null||n.month===null||n.day<1)return n;const f=new Date(n.year,n.month,0).getDate();if(n.day>f)return n}i.H!==void 0?n.hour=parseInt(b[i.H],10)%24:i.h!==void 0&&(n.hour=parseInt(b[i.h],10)%12,(i.A&&b[i.A]==="PM"||i.a&&b[i.a]==="pm"||i.aa&&b[i.aa]==="p.m.")&&(n.hour+=12),n.hour=n.hour%24),i.m!==void 0&&(n.minute=parseInt(b[i.m],10)%60),i.s!==void 0&&(n.second=parseInt(b[i.s],10)%60),i.S!==void 0&&(n.millisecond=parseInt(b[i.S],10)*10**(3-b[i.S].length)),(i.Z!==void 0||i.ZZ!==void 0)&&(S=i.Z!==void 0?b[i.Z].replace(":",""):b[i.ZZ],n.timezoneOffset=(S[0]==="+"?-1:1)*(60*S.slice(1,3)+1*S.slice(3,5)))}return n.dateHash=A(n.year,6)+"/"+A(n.month)+"/"+A(n.day),n.timeHash=A(n.hour)+":"+A(n.minute)+":"+A(n.second)+S,n}function on(e){return typeof e=="number"?!0:isNaN(Date.parse(e))===!1}function rn(e,a){return Qt(new Date,e,a)}function ln(e){const a=new Date(e).getDay();return a===0?7:a}function Ce(e){const a=new Date(e.getFullYear(),e.getMonth(),e.getDate());a.setDate(a.getDate()-(a.getDay()+6)%7+3);const r=new Date(a.getFullYear(),0,4);r.setDate(r.getDate()-(r.getDay()+6)%7+3);const o=a.getTimezoneOffset()-r.getTimezoneOffset();a.setHours(a.getHours()-o);const t=(a-r)/(At*7);return 1+Math.floor(t)}function sn(e){return e.getFullYear()*1e4+e.getMonth()*100+e.getDate()}function Ve(e,a){const r=new Date(e);return a===!0?sn(r):r.getTime()}function un(e,a,r,o={}){const t=Ve(a,o.onlyDate),n=Ve(r,o.onlyDate),s=Ve(e,o.onlyDate);return(s>t||o.inclusiveFrom===!0&&s===t)&&(s<n||o.inclusiveTo===!0&&s===n)}function cn(e,a){return Ge(e,a,1)}function dn(e,a){return Ge(e,a,-1)}function X(e,a,r){const o=new Date(e),t=`set${r===!0?"UTC":""}`;switch(a){case"year":case"years":o[`${t}Month`](0);case"month":case"months":o[`${t}Date`](1);case"day":case"days":case"date":o[`${t}Hours`](0);case"hour":case"hours":o[`${t}Minutes`](0);case"minute":case"minutes":o[`${t}Seconds`](0);case"second":case"seconds":o[`${t}Milliseconds`](0)}return o}function fn(e,a,r){const o=new Date(e),t=`set${r===!0?"UTC":""}`;switch(a){case"year":case"years":o[`${t}Month`](11);case"month":case"months":o[`${t}Date`](Je(o));case"day":case"days":case"date":o[`${t}Hours`](23);case"hour":case"hours":o[`${t}Minutes`](59);case"minute":case"minutes":o[`${t}Seconds`](59);case"second":case"seconds":o[`${t}Milliseconds`](999)}return o}function vn(e){let a=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(r=>{a=Math.max(a,new Date(r))}),a}function hn(e){let a=new Date(e);return Array.prototype.slice.call(arguments,1).forEach(r=>{a=Math.min(a,new Date(r))}),a}function Me(e,a,r){return(e.getTime()-e.getTimezoneOffset()*Ue-(a.getTime()-a.getTimezoneOffset()*Ue))/r}function Et(e,a,r="days"){const o=new Date(e),t=new Date(a);switch(r){case"years":case"year":return o.getFullYear()-t.getFullYear();case"months":case"month":return(o.getFullYear()-t.getFullYear())*12+o.getMonth()-t.getMonth();case"days":case"day":case"date":return Me(X(o,"day"),X(t,"day"),At);case"hours":case"hour":return Me(X(o,"hour"),X(t,"hour"),Xa);case"minutes":case"minute":return Me(X(o,"minute"),X(t,"minute"),Ue);case"seconds":case"second":return Me(X(o,"second"),X(t,"second"),1e3)}}function $e(e){return Et(e,X(e,"year"),"days")+1}function mn(e){return kt(e)===!0?"date":typeof e=="number"?"number":"string"}function gn(e,a,r){const o=new Date(e);if(a){const t=new Date(a);if(o<t)return t}if(r){const t=new Date(r);if(o>t)return t}return o}function yn(e,a,r){const o=new Date(e),t=new Date(a);if(r===void 0)return o.getTime()===t.getTime();switch(r){case"second":case"seconds":if(o.getSeconds()!==t.getSeconds())return!1;case"minute":case"minutes":if(o.getMinutes()!==t.getMinutes())return!1;case"hour":case"hours":if(o.getHours()!==t.getHours())return!1;case"day":case"days":case"date":if(o.getDate()!==t.getDate())return!1;case"month":case"months":if(o.getMonth()!==t.getMonth())return!1;case"year":case"years":if(o.getFullYear()!==t.getFullYear())return!1;break;default:throw new Error(`date isSameDate unknown unit ${r}`)}return!0}function Je(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()}function ve(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const bt={YY(e,a,r){const o=this.YYYY(e,a,r)%100;return o>=0?A(o):"-"+A(Math.abs(o))},YYYY(e,a,r){return r??e.getFullYear()},M(e){return e.getMonth()+1},Mo(e){return ve(e.getMonth()+1)},MM(e){return A(e.getMonth()+1)},MMM(e,a){return a.monthsShort[e.getMonth()]},MMMM(e,a){return a.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return ve(this.Q(e))},D(e){return e.getDate()},Do(e){return ve(e.getDate())},DD(e){return A(e.getDate())},DDD(e){return $e(e)},DDDo(e){return ve($e(e))},DDDD(e){return A($e(e),3)},d(e){return e.getDay()},do(e){return ve(e.getDay())},dd(e,a){return a.days[e.getDay()].slice(0,2)},ddd(e,a){return a.daysShort[e.getDay()]},dddd(e,a){return a.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return Ce(e)},wo(e){return ve(Ce(e))},ww(e){return A(Ce(e))},H(e){return e.getHours()},HH(e){return A(e.getHours())},h(e){const a=e.getHours();return a===0?12:a>12?a%12:a},hh(e){return A(this.h(e))},m(e){return e.getMinutes()},mm(e){return A(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return A(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return A(Math.floor(e.getMilliseconds()/10))},SSS(e){return A(e.getMilliseconds(),3)},A(e){return e.getHours()<12?"AM":"PM"},a(e){return e.getHours()<12?"am":"pm"},aa(e){return e.getHours()<12?"a.m.":"p.m."},Z(e,a,r,o){const t=o??e.getTimezoneOffset();return yt(t,":")},ZZ(e,a,r,o){const t=o??e.getTimezoneOffset();return yt(t)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function bn(e,a,r,o,t){if(e!==0&&!e||e===1/0||e===-1/0)return;const n=new Date(e);if(isNaN(n))return;a===void 0&&(a=It);const s=Pt(r,$t.props);return a.replace(Ka,(l,u)=>l in bt?bt[l](n,s,o,t):u===void 0?l:u.split("\\]").join("]"))}function pn(e){return kt(e)===!0?new Date(e.getTime()):e}const wn={isValid:on,extractDate:an,buildDate:rn,getDayOfWeek:ln,getWeekOfYear:Ce,isBetweenDates:un,addToDate:cn,subtractFromDate:dn,adjustDate:Qt,startOfDate:X,endOfDate:fn,getMaxDate:vn,getMinDate:hn,getDateDiff:Et,getDayOfYear:$e,inferDateFormat:mn,getDateBetween:gn,isSameDate:yn,daysInMonth:Je,formatDate:bn,clone:pn},Sn={class:"text-h6"},Dn={key:0,class:"q-pa-md text-center"},_n={key:1,class:"q-pa-md text-center text-grey-6"},Mn={key:2},zn=Te({__name:"NotificationBell",setup(e){const a=xt(),{notifications:r,unreadCount:o,hasUnread:t,isLoading:n,initialize:s,cleanup:l,markAllAsRead:u,handleNotificationClick:v,getNotificationIcon:i,getNotificationColor:b}=Aa(),S=()=>{a.push("/app/notifications")},f=x=>{if(!x)return"";const M=Date.now(),D=new Date(x).getTime(),w=M-D,O=Math.floor(w/(1e3*60)),g=Math.floor(w/(1e3*60*60)),Y=Math.floor(w/(1e3*60*60*24));return O<1?"právě teď":O<60?`před ${O} min`:g<24?`před ${g} h`:Y<7?`před ${Y} dny`:wn.formatDate(D,"D.M.YYYY HH:mm")},p=async x=>{const M=await v(x);await a.push(M)};return me(()=>{s()}),zt(()=>{l()}),(x,M)=>(B(),E(te,{flat:"",round:"","aria-label":"Notifications"},{default:h(()=>[d(Z,{name:"notifications",color:"white"}),z(t)?(B(),E(dt,{key:0,color:"red",floating:"",rounded:"",label:z(o)>99?"99+":z(o)},null,8,["label"])):K("",!0),d(Bt,{anchor:"bottom right",self:"top right",offset:[0,8],class:"notification-menu"},{default:h(()=>[d(Ma,{class:"column no-wrap",style:{height:"500px",width:"100%"}},{default:h(()=>[d(lt,{class:"row items-center justify-between q-pa-sm",style:{flex:"0 0 auto"}},{default:h(()=>[ke("div",Sn,I(x.$t("nav.notifications")),1),z(t)?(B(),E(te,{key:0,flat:"",dense:"",size:"sm",label:x.$t("notifications.markAllRead"),onClick:z(u)},null,8,["label","onClick"])):K("",!0)]),_:1}),d(Ze),d(lt,{class:"q-pa-none col",style:{"min-height":"0",flex:"1 1 0"}},{default:h(()=>[d(Ua,{style:{height:"100%"}},{default:h(()=>[z(n)?(B(),ue("div",Dn,[d(za,{size:"md"})])):z(r).length===0?(B(),ue("div",_n,I(x.$t("notifications.noNotifications")),1)):(B(),ue("div",Mn,[(B(!0),ue(Ca,null,$a(z(r),D=>ne((B(),E(j,{key:D.id,clickable:"",class:je({"bg-blue-1":!D.is_read}),onClick:w=>p(D)},{default:h(()=>[d(H,{avatar:""},{default:h(()=>[d(qt,{color:z(b)(D.type),"text-color":"white",icon:z(i)(D.type)},null,8,["color","icon"])]),_:2},1024),d(H,null,{default:h(()=>[d(ce,{class:"text-weight-medium"},{default:h(()=>[Q(I(D.title),1)]),_:2},1024),d(ce,{caption:"",lines:"2"},{default:h(()=>[Q(I(D.body),1)]),_:2},1024),d(ce,{caption:"",class:"text-grey-6"},{default:h(()=>[Q(I(f(D.created_at)),1)]),_:2},1024)]),_:2},1024),D.is_read?K("",!0):(B(),E(H,{key:0,side:""},{default:h(()=>[d(dt,{color:"primary",rounded:""})]),_:1}))]),_:2},1032,["class","onClick"])),[[he]])),128))]))]),_:1})]),_:1}),d(Ze),d(ka,{align:"center",class:"q-pa-sm",style:{flex:"0 0 auto"}},{default:h(()=>[ne(d(te,{flat:"",label:x.$t("notifications.viewAll"),onClick:S},null,8,["label"]),[[he]])]),_:1})]),_:1})]),_:1})]),_:1}))}}),Cn={class:"text-body2"},pt="push-notification-banner-dismissed",$n=Te({__name:"PushNotificationBanner",setup(e){const a=Tt(),{t:r}=Ke(),o=Ot(),t=k(!1),n=k(!1),s=m(()=>o.isSupported.value&&!o.isSubscribed.value&&!n.value&&o.permission.value!=="denied"),l=async()=>{t.value=!0;try{await o.subscribe()}catch(v){console.error("Error enabling notifications:",v)}finally{t.value=!1}},u=()=>{n.value=!0,it.set(pt,!0),a.notify({type:"info",message:r("notifications.bannerDismissed"),timeout:2e3})};return me(async()=>{await o.initialize(),n.value=it.getItem(pt)===!0}),(v,i)=>s.value?(B(),E(qa,{key:0,class:"bg-primary text-white q-mb-md",dense:"",rounded:""},{avatar:h(()=>[d(Z,{name:"notifications"})]),action:h(()=>[d(te,{flat:"",dense:"",label:v.$t("notifications.enable"),onClick:l,loading:t.value,"text-color":"white",class:"q-mr-sm"},null,8,["label","loading"]),d(te,{flat:"",dense:"",label:v.$t("common.close"),onClick:u,"text-color":"white",icon:"close",size:"sm"},null,8,["label"])]),default:h(()=>[ke("div",Cn,I(v.$t("notifications.bannerMessage")),1)]),_:1})):K("",!0)}}),kn={key:0,class:"row items-center q-gutter-xs"},qn=["src"],xn={key:1},Tn={key:0,class:"text-body2 text-white"},On={class:"col column justify-end"},Bn={class:"q-pa-sm text-caption"},Yn=Te({__name:"MainLayout",setup(e){const a=xt(),r=Tt(),{t:o}=Ke(),t=Ha(),n=Ot(),s=k(!1),l=k(!1),u=()=>{s.value=!s.value},v=()=>t.profile?t.profile.name&&t.profile.surname?`${t.profile.name} ${t.profile.surname}`:t.profile.name?t.profile.name:t.profile.username?t.profile.username:"":"",i=()=>t.profile?t.profile.name&&t.profile.surname?`${t.profile.name.charAt(0)}${t.profile.surname.charAt(0)}`:t.profile.username?t.profile.username.charAt(0).toUpperCase():t.profile.email.charAt(0).toUpperCase():"",b=async()=>{(await t.signOut()).error?r.notify({type:"negative",message:o("auth.logoutError")}):(r.notify({type:"positive",message:o("auth.logoutSuccess")}),a.push("/auth")),l.value=!1};return me(async()=>{try{await n.initialize()}catch(S){console.log("Push notifications not available:",S)}!t.isAuthenticated&&a.currentRoute.value.path.startsWith("/app")&&a.push("/auth")}),(S,f)=>{const p=st("router-link"),x=st("router-view");return B(),E(ja,{view:"lHh Lpr lFf"},{default:h(()=>[d(Ea,{elevated:""},{default:h(()=>[d(Qa,null,{default:h(()=>[d(te,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:u}),d(Ia,null,{default:h(()=>[Q(I(z(o)("app.title")),1)]),_:1}),d(Za),z(t).isAuthenticated?(B(),ue("div",kn,[d(zn),d(qt,{size:"32px",color:"primary","text-color":"white"},{default:h(()=>[z(t).profile?.avatar_url?(B(),ue("img",{key:0,src:z(t).profile.avatar_url},null,8,qn)):(B(),ue("span",xn,I(i()),1))]),_:1}),z(r).screen.xs?K("",!0):(B(),ue("span",Tn,I(v()),1)),d(Yt,{flat:"",dense:"","no-icon-animation":"","dropdown-icon":"expand_more",onClick:f[1]||(f[1]=M=>l.value=!l.value)},{default:h(()=>[d(We,null,{default:h(()=>[ne((B(),E(j,{clickable:"",onClick:f[0]||(f[0]=M=>z(a).push("/app/profile"))},{default:h(()=>[d(H,null,{default:h(()=>[d(ce,null,{default:h(()=>[Q(I(z(o)("nav.profile")),1)]),_:1})]),_:1})]),_:1})),[[he]]),ne((B(),E(j,{clickable:"",onClick:b},{default:h(()=>[d(H,null,{default:h(()=>[d(ce,null,{default:h(()=>[Q(I(z(o)("nav.logout")),1)]),_:1})]),_:1})]),_:1})),[[he]])]),_:1})]),_:1})])):K("",!0)]),_:1})]),_:1}),z(t).isAuthenticated?(B(),E(Na,{key:0,modelValue:s.value,"onUpdate:modelValue":f[8]||(f[8]=M=>s.value=M),"show-if-above":"",bordered:"",class:"drawer-content column no-wrap"},{default:h(()=>[d(We,{class:"col-auto"},{default:h(()=>[d(ce,{header:""},{default:h(()=>[Q(I(z(o)("nav.menu")),1)]),_:1}),d(j,{clickable:"",onClick:f[2]||(f[2]=M=>z(a).push("/app"))},{default:h(()=>[d(H,{avatar:""},{default:h(()=>[d(Z,{name:"home"})]),_:1}),d(H,null,{default:h(()=>[Q(I(z(o)("nav.home")),1)]),_:1})]),_:1}),d(j,{clickable:"",onClick:f[3]||(f[3]=M=>z(a).push("/app/wishes"))},{default:h(()=>[d(H,{avatar:""},{default:h(()=>[d(Z,{name:"card_giftcard"})]),_:1}),d(H,null,{default:h(()=>[Q(I(S.$t("nav.wishes")),1)]),_:1})]),_:1}),d(j,{clickable:"",onClick:f[4]||(f[4]=M=>z(a).push("/app/friends"))},{default:h(()=>[d(H,{avatar:""},{default:h(()=>[d(Z,{name:"people"})]),_:1}),d(H,null,{default:h(()=>[Q(I(z(o)("nav.friends")),1)]),_:1})]),_:1}),d(j,{clickable:"",onClick:f[5]||(f[5]=M=>z(a).push("/app/groups"))},{default:h(()=>[d(H,{avatar:""},{default:h(()=>[d(Z,{name:"group"})]),_:1}),d(H,null,{default:h(()=>[Q(I(z(o)("nav.groups")),1)]),_:1})]),_:1}),d(j,{clickable:"",onClick:f[6]||(f[6]=M=>z(a).push("/app/feedback"))},{default:h(()=>[d(H,{avatar:""},{default:h(()=>[d(Z,{name:"feedback"})]),_:1}),d(H,null,{default:h(()=>[Q(I(z(o)("feedback.send")),1)]),_:1})]),_:1}),z(t).profile?.is_admin?(B(),E(j,{key:0,clickable:"",onClick:f[7]||(f[7]=M=>z(a).push("/app/admin/feedback"))},{default:h(()=>[d(H,{avatar:""},{default:h(()=>[d(Z,{name:"admin_panel_settings"})]),_:1}),d(H,null,{default:h(()=>[Q(I(z(o)("feedback.adminNav")),1)]),_:1})]),_:1})):K("",!0)]),_:1}),ke("div",On,[d(Ze),ke("div",Bn,[d(p,{class:"text-grey-7",to:"/privacy"},{default:h(()=>[Q(I(z(o)("privacy.shortLink")),1)]),_:1})])])]),_:1},8,["modelValue"])):K("",!0),d(Va,null,{default:h(()=>[z(t).isAuthenticated?(B(),E($n,{key:0})):K("",!0),z(t).isAuthenticated?(B(),E(xa,{key:1})):K("",!0),d(x)]),_:1})]),_:1})}}}),Kn=Ta(Yn,[["__scopeId","data-v-9673f3d4"]]);export{Kn as default};
